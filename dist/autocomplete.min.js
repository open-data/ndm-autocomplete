!function(a,b,c){"use strict";var d,e=function(a){var b,d=a.target.value;d&&(b=c.getData(a.delegateTarget,"autocomplete").type,c.doc.trigger({type:"ajax-fetch.wb",element:a.delegateTarget,fetch:{url:"/api/3/action/GetAutocomplete?type="+b+"&q=*"+d+"*",dataType:"jsonp",jsonp:"callback"}}))};b("[data-autocomplete]").on("keydown",'input[type="text"]',function(){var a=this,b=arguments;clearTimeout(d),d=setTimeout(function(){e.apply(a,b)},500)}),b("[data-autocomplete]").on("ajax-fetched.wb",function(a){var d,e,f,g,h=b(a.delegateTarget).find("select"),i=a.fetch.response.result.results,j=i.length;if(h.empty(),0!==i.length)for(d=0;j>d;d+=1)e=i[d],f=e.group,f?(f=f[c.lang],g=h.find('optgroup[label="'+f+'"]'),0===g.length&&(g=b('<optgroup label="'+f+'"></optgroup>').appendTo(h))):g=h,g.append('<option value="'+e.code+'">'+e.title.en+" | "+e.title.fr+" | "+e.code);else h.append('<option value="">'+c.i18n("no-match")+"</option>")}),b("[data-autocomplete]").on("click","button",function(a){var c=b(a.delegateTarget).find('input[name!=""][name]'),d=c.val(),e=b(a.delegateTarget).find("select option:selected").val();d?-1===d.split(";").indexOf(e)&&c.val(d+";"+e):c.val(e)})}(window,jQuery,wb);
//# sourceMappingURL=autocomplete.min.js.map