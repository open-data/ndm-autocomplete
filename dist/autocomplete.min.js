!function(a,b,c){"use strict";var d,e=b("body").data("siteRoot"),f=function(a){var d,f=a.target.value;f&&(d=b.extend({q:"*"+f+"*"},c.getData(a.delegateTarget,"autocomplete")),c.doc.trigger({type:"ajax-fetch.wb",element:a.delegateTarget,fetch:{url:e+"api/3/action/GetAutocomplete",data:d,dataType:"jsonp",jsonp:"callback"}}))},g=function(a){var c=b(a.delegateTarget).find('input[name!=""][name], textarea'),d=c.val(),e=b(a.delegateTarget).find("select option:selected").val();d?-1===d.split(";").indexOf(e)&&c.val(d+";"+e):c.val(e)};b("[data-autocomplete]").on("keydown",'input[type="text"]:first',function(){var a=this,b=arguments;clearTimeout(d),d=setTimeout(function(){f.apply(a,b)},500)}),b("[data-autocomplete]").on("ajax-fetched.wb",function(a){var d,e,f,g,h=b(a.delegateTarget).find("select"),i=a.fetch.response.result.results,j=i.length;if(h.empty(),0!==i.length)for(d=0;j>d;d+=1)e=i[d],f=e.group,f?(f=f[c.lang],g=h.find('optgroup[label="'+f+'"]'),0===g.length&&(g=b('<optgroup label="'+f+'"></optgroup>').appendTo(h))):g=h,g.append('<option value="'+e.code+'">'+e.title.en+" | "+e.title.fr+" | "+e.code);else h.append('<option value="">'+c.i18n("no-match")+"</option>")}),b("[data-autocomplete]").on("click","button",function(a){g.apply(this,arguments)}),b("[data-autocomplete]").on("keydown","select",function(a){13===a.which&&g.apply(this,arguments)})}(window,jQuery,wb);
//# sourceMappingURL=autocomplete.min.js.map